"use strict";(self.webpackChunknotebook_sncf_p_3=self.webpackChunknotebook_sncf_p_3||[]).push([[323],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>k});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=o.createContext({}),s=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return o.createElement(p.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=s(n),m=r,k=d["".concat(p,".").concat(m)]||d[m]||c[m]||a;return n?o.createElement(k,i(i({ref:t},u),{},{components:n})):o.createElement(k,i({ref:t},u))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<a;s++)i[s]=n[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3166:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var o=n(7462),r=(n(7294),n(3905));const a={sidebar_position:2},i="Partie 1 - G\xe9rer les donn\xe9es avec des composants",l={unversionedId:"front-end/angular/product-list",id:"front-end/angular/product-list",title:"Partie 1 - G\xe9rer les donn\xe9es avec des composants",description:"Cr\xe9er la liste des produits",source:"@site/docs/3-front-end/angular/1_product-list.md",sourceDirName:"3-front-end/angular",slug:"/front-end/angular/product-list",permalink:"/notebook-SNCF-P3/docs/front-end/angular/product-list",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/3-front-end/angular/1_product-list.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Commencer avec Angular",permalink:"/notebook-SNCF-P3/docs/front-end/angular/get-started"},next:{title:"Partie 2 - Ajouter la navigation",permalink:"/notebook-SNCF-P3/docs/front-end/angular/navigation"}},p={},s=[{value:"Cr\xe9er la liste des produits",id:"cr\xe9er-la-liste-des-produits",level:2},{value:"Passer des donn\xe9es \xe0 un composant enfant",id:"passer-des-donn\xe9es-\xe0-un-composant-enfant",level:2},{value:"Partager des informations du composant enfant vers le composant parent",id:"partager-des-informations-du-composant-enfant-vers-le-composant-parent",level:2},{value:"C&#39;est quoi la suite ?",id:"cest-quoi-la-suite-",level:2}],u={toc:s},d="wrapper";function c(e){let{components:t,...a}=e;return(0,r.kt)(d,(0,o.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"partie-1---g\xe9rer-les-donn\xe9es-avec-des-composants"},"Partie 1 - G\xe9rer les donn\xe9es avec des composants"),(0,r.kt)("h2",{id:"cr\xe9er-la-liste-des-produits"},"Cr\xe9er la liste des produits"),(0,r.kt)("p",null,"Dans cette section, vous allez mettre \xe0 jour l'application pour afficher une liste de produits. Vous utiliserez des donn\xe9es de produits pr\xe9d\xe9finies \xe0 partir du fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"products.ts")," et des m\xe9thodes du fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"product-list.component.ts"),". Cette section vous guide dans la modification du HTML, \xe9galement appel\xe9 template."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Dans le dossier product-list, ouvrez le fichier template ",(0,r.kt)("inlineCode",{parentName:"li"},"product-list.component.html"),"."),(0,r.kt)("li",{parentName:"ol"},"Ajoutez ce qu'on appelle une directive structurelle ",(0,r.kt)("inlineCode",{parentName:"li"},"*ngFor")," sur une ",(0,r.kt)("inlineCode",{parentName:"li"},"<div>"),", comme suit.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="src/app/product-list/product-list.component.html"',title:'"src/app/product-list/product-list.component.html"'},'<h2>Liste de produits</h2>\n\n<div *ngFor="let product of products"></div>\n')),(0,r.kt)("p",null,"Avec ",(0,r.kt)("inlineCode",{parentName:"p"},"*ngFor"),", la ",(0,r.kt)("inlineCode",{parentName:"p"},"<div>")," se r\xe9p\xe8te pour chaque produit de la liste."),(0,r.kt)("p",null,"Les directives structurelles fa\xe7onnent ou remod\xe8lent la structure du DOM, en ajoutant, supprimant et manipulant des \xe9l\xe9ments. Pour plus d'informations sur les directives structurelles, voir ",(0,r.kt)("a",{parentName:"p",href:"https://angular.io/guide/structural-directives"},"Directives structurelles"),"."),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\xc0 l'int\xe9rieur de la ",(0,r.kt)("inlineCode",{parentName:"li"},"<div>"),", ajoutez un ",(0,r.kt)("inlineCode",{parentName:"li"},"<h3>")," et ",(0,r.kt)("inlineCode",{parentName:"li"},"{{ product.name }}"),". L'instruction ",(0,r.kt)("inlineCode",{parentName:"li"},"{{ product.name }}")," est un exemple de syntaxe d'interpolation d'Angular. L'interpolation ",(0,r.kt)("inlineCode",{parentName:"li"},"{{ }}")," vous permet d'afficher la valeur de la propri\xe9t\xe9 en tant que texte.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="src/app/product-list/product-list.component.html"',title:'"src/app/product-list/product-list.component.html"'},'<h2>Liste de produits</h2>\n\n<div *ngFor="let product of products">\n  <h3>{{ product.name }}</h3>\n</div>\n')),(0,r.kt)("p",null,"L'aper\xe7u se met \xe0 jour pour afficher le nom de chaque produit de la liste."),(0,r.kt)("div",{class:"container-img-50"},(0,r.kt)("img",{src:n(4811).Z,alt:"Les produits sont ajout\xe9s \xe0 la liste"}),(0,r.kt)("figcaption",null,"Les produits sont ajout\xe9s \xe0 la liste")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Pour faire de chaque nom de produit un lien vers les d\xe9tails du produit, ajoutez l'\xe9l\xe9ment ",(0,r.kt)("inlineCode",{parentName:"p"},"<a>")," autour de ",(0,r.kt)("inlineCode",{parentName:"p"},"{{ product.name }}"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"D\xe9finissez le titre sur le nom du produit en utilisant la syntaxe de liaison de propri\xe9t\xe9 ",(0,r.kt)("inlineCode",{parentName:"p"},"[ ]"),", comme suit :"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="src/app/product-list/product-list.component.html"',title:'"src/app/product-list/product-list.component.html"'},'<h2>Liste de produits</h2>\n\n<div *ngFor="let product of products">\n  <h3>\n    <a [title]="\'D\xe9tails du \'+ product.name"> {{ product.name }} </a>\n  </h3>\n</div>\n')),(0,r.kt)("p",null,'Sur la page de pr\xe9visualisation, passez la souris sur le nom du produit pour afficher le titre. Le titre est le nom du produit pr\xe9c\xe9d\xe9 de la chaine de caract\xe8res "D\xe9tails du ". La syntaxe de liaison de propri\xe9t\xe9 ',(0,r.kt)("inlineCode",{parentName:"p"},"[ ]")," vous permet d'attribuer une valeur dynamique \xe0 tout attribut (ici title) des \xe9l\xe9ments html, cool non ?!"),(0,r.kt)("div",{class:"container-img-50"},(0,r.kt)("img",{src:n(5564).Z,alt:"Le titre du produit s'affiche"}),(0,r.kt)("figcaption",null,"Le titre du produit s'affiche")),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"Ajoutez une description de produit \xe0 la liste. Sur une balise ",(0,r.kt)("inlineCode",{parentName:"li"},"<p>"),", utilisez une directive ",(0,r.kt)("inlineCode",{parentName:"li"},"*ngIf")," pour qu'Angular ne cr\xe9e la balise ",(0,r.kt)("inlineCode",{parentName:"li"},"<p>")," que si le produit actuel a une description.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="src/app/product-list/product-list.component.html"',title:'"src/app/product-list/product-list.component.html"'},'<h2>Liste de produits</h2>\n\n<div *ngFor="let product of products">\n  <h3>\n    <a [title]="\'D\xe9tails du \'+ product.name"> {{ product.name }} </a>\n  </h3>\n\n  <p *ngIf="product.description">Description: {{ product.description }}</p>\n</div>\n')),(0,r.kt)("p",null,"L'application affiche maintenant le nom et la description de chaque produit de la liste. Remarquez que le dernier produit n'a pas de paragraphe de description. Angular ne cr\xe9e pas l'\xe9l\xe9ment ",(0,r.kt)("inlineCode",{parentName:"p"},"<p>")," car la propri\xe9t\xe9 description du produit est vide."),(0,r.kt)("div",{class:"container-img-50"},(0,r.kt)("img",{src:n(8799).Z,alt:"Les descriptions de produits sont ajout\xe9es \xe0 la liste"}),(0,r.kt)("figcaption",null,"Les descriptions de produits sont ajout\xe9es \xe0 la liste")),(0,r.kt)("ol",{start:7},(0,r.kt)("li",{parentName:"ol"},"Ajoutez un bouton pour que les utilisateurs puissent partager un produit. Liez l'\xe9v\xe9nement ",(0,r.kt)("inlineCode",{parentName:"li"},"click")," du bouton \xe0 la m\xe9thode ",(0,r.kt)("inlineCode",{parentName:"li"},"share()")," dans ",(0,r.kt)("inlineCode",{parentName:"li"},"product-list.component.ts"),". La liaison d'\xe9v\xe9nement utilise un ensemble de parenth\xe8ses, ",(0,r.kt)("inlineCode",{parentName:"li"},"( )"),", autour de l'\xe9v\xe9nement, comme dans l'\xe9v\xe9nement ",(0,r.kt)("inlineCode",{parentName:"li"},"(click)")," sur l'\xe9l\xe9ment ",(0,r.kt)("inlineCode",{parentName:"li"},"<button>"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="src/app/product-list/product-list.component.html"',title:'"src/app/product-list/product-list.component.html"'},'<h2>Liste de produits</h2>\n\n<div *ngFor="let product of products">\n  <h3>\n    <a [title]="\'D\xe9tails du \'+ product.name"> {{ product.name }} </a>\n  </h3>\n\n  <p *ngIf="product.description">Description: {{ product.description }}</p>\n\n  <button type="button" (click)="share()">Partager</button>\n</div>\n')),(0,r.kt)("p",null,"Chaque produit a maintenant un bouton Partager."),(0,r.kt)("div",{class:"container-img-50"},(0,r.kt)("img",{src:n(5856).Z,alt:"Les boutons Partager sont ajout\xe9s \xe0 la liste"}),(0,r.kt)("figcaption",null,"Les boutons Partager sont ajout\xe9s \xe0 la liste")),(0,r.kt)("p",null,"Cliquez sur un bouton Partager d\xe9clenche la m\xe9thode ",(0,r.kt)("inlineCode",{parentName:"p"},"share()")," dans ",(0,r.kt)("inlineCode",{parentName:"p"},"product-list.component.ts"),'. Cela affiche une fen\xeatre contextuelle avec le message "Le produit a \xe9t\xe9 partag\xe9 !".'),(0,r.kt)("p",null,"L'\xe9dition des template vous a permis d'explorer certaines des fonctionnalit\xe9s les plus populaires d'Angular. Pour plus d'informations, voir ",(0,r.kt)("a",{parentName:"p",href:"https://angular.io/guide/architecture-components"},"Introduction aux composants et aux mod\xe8les"),"."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"passer-des-donn\xe9es-\xe0-un-composant-enfant"},"Passer des donn\xe9es \xe0 un composant enfant"),(0,r.kt)("p",null,"Actuellement, la liste des produits affiche le nom et la description de chaque produit. Le composant ProductListComponent d\xe9finit \xe9galement une propri\xe9t\xe9 products qui contient les donn\xe9es import\xe9es pour chaque produit du tableau products.ts."),(0,r.kt)("p",null,"L'\xe9tape suivante consiste \xe0 cr\xe9er une nouvelle fonctionnalit\xe9 d'alerte qui utilise les donn\xe9es du produit de ProductListComponent. L'alerte v\xe9rifie le prix du produit et, si le prix est sup\xe9rieur \xe0 700 $, affiche un bouton Notify Me qui permet aux utilisateurs de s'inscrire pour recevoir des notifications lorsque le produit est en solde."),(0,r.kt)("p",null,"Cette section vous guide dans la cr\xe9ation d'un composant enfant, ProductAlertsComponent, qui peut recevoir des donn\xe9es de son composant parent, ProductListComponent."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Ouvrez un second terminal pour pouvoir ex\xe9cuter ta premi\xe8re commande de g\xe9n\xe9ration d'un nouveau composant !"),(0,r.kt)("li",{parentName:"ol"},"Dans le nouveau terminal, g\xe9n\xe8rez un nouveau composant nomm\xe9 product-alerts en ex\xe9cutant la commande suivante :")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Dans git bash ou un terminal"',title:'"Dans',git:!0,bash:!0,ou:!0,un:!0,'terminal"':!0},"ng generate component product-alerts\n")),(0,r.kt)("p",null,"Cette commande g\xe9n\xe8re quatre fichiers :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Un fichier de sp\xe9cification de test pour le composant. (dont on ne se servira pas dans ce tutoriel)"),(0,r.kt)("li",{parentName:"ul"},"Un fichier de style CSS vide. (product-alerts.component.css)"),(0,r.kt)("li",{parentName:"ul"},"Un fichier de mod\xe8le HTML. (product-alerts.component.html)"),(0,r.kt)("li",{parentName:"ul"},"Un fichier de classe TypeScript. (product-alerts.component.ts)")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Ouvez le fichier product-alerts.component.ts. Le d\xe9corateur ",(0,r.kt)("inlineCode",{parentName:"li"},"@Component()")," indique que la classe suivante est un composant. ",(0,r.kt)("inlineCode",{parentName:"li"},"@Component()")," fournit \xe9galement des m\xe9tadonn\xe9es sur le composant, notamment son s\xe9lecteur, son template et ses styles.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/app/product-alerts/product-alerts.component.ts"',title:'"src/app/product-alerts/product-alerts.component.ts"'},'import { Component } from "@angular/core";\n\n@Component({\n  selector: "app-product-alerts",\n  templateUrl: "./product-alerts.component.html",\n  styleUrls: ["./product-alerts.component.css"],\n})\nexport class ProductAlertsComponent {}\n')),(0,r.kt)("p",null,"Les fonctionnalit\xe9s cl\xe9s du ",(0,r.kt)("inlineCode",{parentName:"p"},"@Component()")," sont les suivantes :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Le s\xe9lecteur, ",(0,r.kt)("inlineCode",{parentName:"li"},"app-product-alerts"),", identifie le composant. Par convention, les s\xe9lecteurs de composants Angular commencent par le pr\xe9fixe ",(0,r.kt)("inlineCode",{parentName:"li"},"app-"),", suivi du nom du composant."),(0,r.kt)("li",{parentName:"ul"},"Les noms de fichiers de template et de style font r\xe9f\xe9rence au HTML et au CSS du composant."),(0,r.kt)("li",{parentName:"ul"},"La d\xe9finition ",(0,r.kt)("inlineCode",{parentName:"li"},"@Component()")," exporte \xe9galement la classe, ",(0,r.kt)("inlineCode",{parentName:"li"},"ProductAlertsComponent"),", qui g\xe8re les fonctionnalit\xe9s du composant.")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Pour configurer ProductAlertsComponent afin de recevoir des donn\xe9es de produit, importez d'abord ",(0,r.kt)("inlineCode",{parentName:"li"},"Input")," de ",(0,r.kt)("inlineCode",{parentName:"li"},"@angular/core"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/app/product-alerts/product-alerts.component.ts"',title:'"src/app/product-alerts/product-alerts.component.ts"'},'import { Component, Input } from "@angular/core";\nimport { Product } from "../products";\n')),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Dans la classe ",(0,r.kt)("inlineCode",{parentName:"li"},"ProductAlertsComponent"),", d\xe9finissez une propri\xe9t\xe9 ",(0,r.kt)("inlineCode",{parentName:"li"},"@Input()")," nomm\xe9e ",(0,r.kt)("inlineCode",{parentName:"li"},"product"),". Le d\xe9corateur ",(0,r.kt)("inlineCode",{parentName:"li"},"@Input()")," indique que la valeur de la propri\xe9t\xe9 ",(0,r.kt)("inlineCode",{parentName:"li"},"product")," proviendra du composant parent, ici ",(0,r.kt)("inlineCode",{parentName:"li"},"ProductListComponent"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/app/product-alerts/product-alerts.component.ts"',title:'"src/app/product-alerts/product-alerts.component.ts"'},"export class ProductAlertsComponent {\n  @Input() product: Product | undefined;\n}\n")),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"Ouvrez le fichier ",(0,r.kt)("inlineCode",{parentName:"li"},"product-alerts.component.html"),", et remplacez le contenu par un bouton ",(0,r.kt)("inlineCode",{parentName:"li"},"Alerte moi"),", qui n'apparaitra que si le prix du produit est sup\xe9rieur \xe0 700 $.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="src/app/product-alerts/product-alerts.component.html"',title:'"src/app/product-alerts/product-alerts.component.html"'},'<p *ngIf="product && product.price > 700">\n  <button type="button">Alerte moi</button>\n</p>\n')),(0,r.kt)("ol",{start:7},(0,r.kt)("li",{parentName:"ol"},"Le g\xe9n\xe9rateur de code a automatiquement ajout\xe9 ",(0,r.kt)("inlineCode",{parentName:"li"},"ProductAlertsComponent")," \xe0 la liste des d\xe9clarations dans AppModule. Vous n'avez pas besoin de modifier AppModule pour utiliser le nouveau composant.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/app/app.module.ts"',title:'"src/app/app.module.ts"'},'import { ProductAlertsComponent } from "./product-alerts/product-alerts.component";\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    ReactiveFormsModule,\n    RouterModule.forRoot([{ path: "", component: ProductListComponent }]),\n  ],\n  declarations: [\n    AppComponent,\n    TopBarComponent,\n    ProductListComponent,\n    ProductAlertsComponent, // <-- Ajout\xe9 automatiquement\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n')),(0,r.kt)("ol",{start:8},(0,r.kt)("li",{parentName:"ol"},"Enfin, pour afficher le bouton ",(0,r.kt)("inlineCode",{parentName:"li"},"Alerte moi")," dans ",(0,r.kt)("inlineCode",{parentName:"li"},"ProductListComponent"),", ajoutez le s\xe9lecteur ",(0,r.kt)("inlineCode",{parentName:"li"},"app-product-alerts")," \xe0 la fin de la liste des \xe9l\xe9ments de produit.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="src/app/product-list/product-list.component.html"',title:'"src/app/product-list/product-list.component.html"'},'//...\n\n<button (click)="share()">Share</button>\n\n<app-product-alerts [product]="product"></app-product-alerts>\n\n//...\n')),(0,r.kt)("p",null,"Le nouveau composant ProductAlertsComponent prend en param\xe8tre d'entr\xe9e le produit actuel. Le composant ProductListComponent fournit le produit actuel \xe0 la balise ProductAlertsComponent en utilisant la syntaxe de liaison de propri\xe9t\xe9 ",(0,r.kt)("inlineCode",{parentName:"p"},"[product]"),".\nGrace \xe0 cette syntaxe, le composant ProductAlertsComponent peut acc\xe9der au produit actuel et afficher un bouton ",(0,r.kt)("inlineCode",{parentName:"p"},"Alerte moi")," si le prix du produit est sup\xe9rieur \xe0 700 $."),(0,r.kt)("div",{class:"container-img-50"},(0,r.kt)("img",{src:n(1027).Z,alt:"Les boutons Notifier sont ajout\xe9s \xe0 la liste"}),(0,r.kt)("figcaption",null,"Les boutons Notifier sont ajout\xe9s \xe0 la liste")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"partager-des-informations-du-composant-enfant-vers-le-composant-parent"},"Partager des informations du composant enfant vers le composant parent"),(0,r.kt)("p",null,"Pour rendre fonctionnel notre bouton ",(0,r.kt)("inlineCode",{parentName:"p"},"Alerte moi"),", nous allons devoir faire remonter l'information du composant enfant vers le composant parent. Le composant ",(0,r.kt)("inlineCode",{parentName:"p"},"ProductAlertsComponent")," va donc devoir \xe9mettre un \xe9v\xe9nement lorsque l'utilisateur clique sur le bouton ",(0,r.kt)("inlineCode",{parentName:"p"},"Alerte moi")," afin que le composant ",(0,r.kt)("inlineCode",{parentName:"p"},"ProductListComponent")," puisse r\xe9agir \xe0 cet \xe9v\xe9nement."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Dans ",(0,r.kt)("inlineCode",{parentName:"li"},"product-alerts.component.ts"),", importez ",(0,r.kt)("inlineCode",{parentName:"li"},"Output")," et ",(0,r.kt)("inlineCode",{parentName:"li"},"EventEmitter")," de ",(0,r.kt)("inlineCode",{parentName:"li"},"@angular/core"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/app/product-alerts/product-alerts.component.ts"',title:'"src/app/product-alerts/product-alerts.component.ts"'},'import { Component, Input, Output, EventEmitter } from "@angular/core";\nimport { Product } from "../products";\n')),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"D\xe9clarez une propri\xe9t\xe9 nomm\xe9e ",(0,r.kt)("inlineCode",{parentName:"li"},"notify")," avec le d\xe9corateur ",(0,r.kt)("inlineCode",{parentName:"li"},"@Output()")," qui stockera une instance d'",(0,r.kt)("inlineCode",{parentName:"li"},"EventEmitter()"),". Configurer ",(0,r.kt)("inlineCode",{parentName:"li"},"ProductAlertsComponent")," avec un ",(0,r.kt)("inlineCode",{parentName:"li"},"@Output()"),", lui permet d'\xe9mettre un \xe9v\xe9nement lorsque la valeur de la propri\xe9t\xe9 ",(0,r.kt)("inlineCode",{parentName:"li"},"notify")," change.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/app/product-alerts/product-alerts.component.ts"',title:'"src/app/product-alerts/product-alerts.component.ts"'},"export class ProductAlertsComponent {\n  @Input() product: Product | undefined;\n  @Output() notify = new EventEmitter();\n}\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Dans ",(0,r.kt)("inlineCode",{parentName:"li"},"product-alerts.component.html"),", ajoutez un \xe9couteur d'\xe9v\xe9nement ",(0,r.kt)("inlineCode",{parentName:"li"},"(click)")," au bouton ",(0,r.kt)("inlineCode",{parentName:"li"},"Alerte moi")," qui appelle la m\xe9thode ",(0,r.kt)("inlineCode",{parentName:"li"},"notify.emit()"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="src/app/product-alerts/product-alerts.component.html"',title:'"src/app/product-alerts/product-alerts.component.html"'},'<p *ngIf="product && product.price > 700">\n  <button type="button" (click)="notify.emit()">Alerte moi</button>\n</p>\n')),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Param\xe8trez le comportement qui se produit lorsque l'utilisateur clique sur le bouton ",(0,r.kt)("inlineCode",{parentName:"li"},"Alerte moi"),". Le parent, ",(0,r.kt)("inlineCode",{parentName:"li"},"ProductListComponent"),", et non ",(0,r.kt)("inlineCode",{parentName:"li"},"ProductAlertsComponent"),", r\xe9agit lorsque l'enfant \xe9met l'\xe9v\xe9nement. Dans ",(0,r.kt)("inlineCode",{parentName:"li"},"product-list.component.ts"),", d\xe9finis une m\xe9thode ",(0,r.kt)("inlineCode",{parentName:"li"},"onNotify()"),", similaire \xe0 la m\xe9thode ",(0,r.kt)("inlineCode",{parentName:"li"},"share()"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/app/product-list/product-list.component.ts"',title:'"src/app/product-list/product-list.component.ts"'},'export class ProductListComponent {\n  products = [...products];\n\n  share() {\n    window.alert("Le produit a \xe9t\xe9 partag\xe9 !");\n  }\n\n  onNotify() {\n    window.alert("Vous serez notifi\xe9 lorsque le produit sera en promotion !");\n  }\n}\n')),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Mettez \xe0 jour ",(0,r.kt)("inlineCode",{parentName:"li"},"ProductListComponent")," pour recevoir les donn\xe9es de ",(0,r.kt)("inlineCode",{parentName:"li"},"ProductAlertsComponent"),". Dans ",(0,r.kt)("inlineCode",{parentName:"li"},"product-list.component.html"),", ajoutez un \xe9couteur d'\xe9v\xe9nement ",(0,r.kt)("inlineCode",{parentName:"li"},"(notify)")," \xe0 la balise ",(0,r.kt)("inlineCode",{parentName:"li"},"app-product-alerts"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="src/app/product-list/product-list.component.html"',title:'"src/app/product-list/product-list.component.html"'},'//...\n\n<button (click)="share()">Share</button>\n\n<app-product-alerts\n  [product]="product"\n  (notify)="onNotify()"\n></app-product-alerts>\n\n//...\n')),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"Cliquez sur le bouton ",(0,r.kt)("inlineCode",{parentName:"li"},"Alerte moi")," pour v\xe9rifier que la fen\xeatre d'alerte s'affiche.")),(0,r.kt)("div",{class:"container-img-50"},(0,r.kt)("img",{src:n(9536).Z,alt:"Notification produit en solde"}),(0,r.kt)("figcaption",null,"Notification produit en solde")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"cest-quoi-la-suite-"},"C'est quoi la suite ?"),(0,r.kt)("p",null,"Dans cette section, vous avez cr\xe9\xe9 une application qui it\xe8re et affiche des donn\xe9es. Vous avez \xe9galement appris \xe0 cr\xe9er des composants imbriqu\xe9s et \xe0 mettre en place leur communication parent vers enfant (",(0,r.kt)("inlineCode",{parentName:"p"},"@Input"),") et enfant vers parent (",(0,r.kt)("inlineCode",{parentName:"p"},"@Output"),")."),(0,r.kt)("p",null,"Dans la prochaine section, vous allez apprendre \xe0 cr\xe9er une page de d\xe9tails de produit."))}c.isMDXComponent=!0},5564:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/hover-list-products-0ed0cbd0a4a6c7105371f130281f8c34.png"},8799:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/list-products-with-description-7fb0237a71aeaf8055115f24fabd552e.png"},1027:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/list-products-with-notify-7c5df411d0547143b1fe0eb61de98e00.png"},5856:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/list-products-with-share-68f523c42b1133c3b70d69aabc3e91ef.png"},4811:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/list-products-a3386910ebd39cbaefc555af750239c8.png"},9536:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/notify-product-7b002b922a9a29096170222569b276e5.png"}}]);