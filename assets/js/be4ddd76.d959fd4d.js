"use strict";(self.webpackChunknotebook_sncf_p_3=self.webpackChunknotebook_sncf_p_3||[]).push([[39],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=u(r),d=a,f=m["".concat(s,".").concat(d)]||m[d]||c[d]||o;return r?n.createElement(f,i(i({ref:t},p),{},{components:r})):n.createElement(f,i({ref:t},p))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:a,i[1]=l;for(var u=2;u<o;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},9849:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var n=r(7462),a=(r(7294),r(3905));const o={sidebar_position:4},i="Partie 4 - Les formulaires pour la saisie des donn\xe9es par l'utilisateur",l={unversionedId:"front-end/angular/form-user-input",id:"front-end/angular/form-user-input",title:"Partie 4 - Les formulaires pour la saisie des donn\xe9es par l'utilisateur",description:"Cette section vous guide dans l'ajout d'une fonction de paiement par formulaire afin de recueillir les informations de l'utilisateur.",source:"@site/docs/3-front-end/angular/4_form-user-input.md",sourceDirName:"3-front-end/angular",slug:"/front-end/angular/form-user-input",permalink:"/notebook-SNCF-P3/docs/front-end/angular/form-user-input",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/3-front-end/angular/4_form-user-input.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Partie 3 - Gestion des donn\xe9es",permalink:"/notebook-SNCF-P3/docs/front-end/angular/manage-data"},next:{title:"Outils",permalink:"/notebook-SNCF-P3/docs/category/outils"}},s={},u=[{value:"D\xe9finir le mod\xe8le de formulaire de caisse",id:"d\xe9finir-le-mod\xe8le-de-formulaire-de-caisse",level:2},{value:"Cr\xe9ez le formulaire de commande",id:"cr\xe9ez-le-formulaire-de-commande",level:2},{value:"C&#39;est quoi la suite ?",id:"cest-quoi-la-suite-",level:2}],p={toc:u},m="wrapper";function c(e){let{components:t,...o}=e;return(0,a.kt)(m,(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"partie-4---les-formulaires-pour-la-saisie-des-donn\xe9es-par-lutilisateur"},"Partie 4 - Les formulaires pour la saisie des donn\xe9es par l'utilisateur"),(0,a.kt)("p",null,"Cette section vous guide dans l'ajout d'une fonction de paiement par formulaire afin de recueillir les informations de l'utilisateur."),(0,a.kt)("h2",{id:"d\xe9finir-le-mod\xe8le-de-formulaire-de-caisse"},"D\xe9finir le mod\xe8le de formulaire de caisse"),(0,a.kt)("p",null,"Cette \xe9tape vous montre comment configurer le mod\xe8le de formulaire de caisse dans la classe du composant. Le mod\xe8le de formulaire d\xe9termine le statut du formulaire."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Ouvrez le fichier ",(0,a.kt)("inlineCode",{parentName:"p"},"cart.component.ts"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Importez le service ",(0,a.kt)("inlineCode",{parentName:"p"},"FormBuilder")," \xe0 partir du package ",(0,a.kt)("inlineCode",{parentName:"p"},"@angular/forms"),". Ce service fournit des m\xe9thodes pratiques pour g\xe9n\xe9rer des contr\xf4les (les \xe9l\xe9ments permettant de composer un formulaire)."))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=src/app/cart/cart.component.ts",title:"src/app/cart/cart.component.ts"},'import { Component } from "@angular/core";\nimport { FormBuilder } from "@angular/forms";\n\nimport { CartService } from "../cart.service";\n')),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Injectez le service ",(0,a.kt)("inlineCode",{parentName:"li"},"FormBuilder")," dans le ",(0,a.kt)("inlineCode",{parentName:"li"},"constructor()")," de ",(0,a.kt)("inlineCode",{parentName:"li"},"CartComponent"),". Ce service fait partie du module ",(0,a.kt)("inlineCode",{parentName:"li"},"ReactiveFormsModule"),", que vous avez d\xe9j\xe0 import\xe9 ou qui a d\xe9j\xe0 \xe9t\xe9 import\xe9 pour vous dans le projet (dans ",(0,a.kt)("inlineCode",{parentName:"li"},"app.module.ts"),").")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=src/app/cart/cart.component.ts",title:"src/app/cart/cart.component.ts"},"export class CartComponent {\n  constructor(\n    private cartService: CartService,\n    private formBuilder: FormBuilder\n  ) {}\n}\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Pour collecter le nom et l'adresse de l'utilisateur, utilisez la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"li"},"group()")," de ",(0,a.kt)("inlineCode",{parentName:"li"},"FormBuilder")," pour d\xe9finir la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"li"},"checkoutForm")," sur un mod\xe8le de formulaire contenant : un champ ",(0,a.kt)("inlineCode",{parentName:"li"},"address")," et champs ",(0,a.kt)("inlineCode",{parentName:"li"},"name"),".")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=src/app/cart/cart.component.ts",title:"src/app/cart/cart.component.ts"},'export class CartComponent {\n  items = this.cartService.getItems();\n\n  checkoutForm = this.formBuilder.group({\n    name: "",\n    address: "",\n  });\n\n  constructor(\n    private cartService: CartService,\n    private formBuilder: FormBuilder\n  ) {}\n}\n')),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},"D\xe9finissez une m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"li"},"onSubmit()")," pour traiter le formulaire. Cette m\xe9thode permet aux utilisateurs de soumettre leur nom et leur adresse. De plus, cette m\xe9thode utilise la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"li"},"clearCart()")," du ",(0,a.kt)("inlineCode",{parentName:"li"},"CartService")," pour r\xe9initialiser le formulaire et vider le panier.")),(0,a.kt)("p",null,"L'ensemble de la classe de composants de panier se pr\xe9sente comme suit :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=src/app/cart/cart.component.ts",title:"src/app/cart/cart.component.ts"},'import { Component } from "@angular/core";\nimport { FormBuilder } from "@angular/forms";\n\nimport { CartService } from "../cart.service";\n\n@Component({\n  selector: "app-cart",\n  templateUrl: "./cart.component.html",\n  styleUrls: ["./cart.component.css"],\n})\nexport class CartComponent {\n  items = this.cartService.getItems();\n\n  checkoutForm = this.formBuilder.group({\n    name: "",\n    address: "",\n  });\n\n  constructor(\n    private cartService: CartService,\n    private formBuilder: FormBuilder\n  ) {}\n\n  onSubmit(): void {\n    // Traiter les donn\xe9es de paiement ici\n    this.items = this.cartService.clearCart();\n    console.warn("Votre commande a \xe9t\xe9 envoy\xe9e", this.checkoutForm.value);\n    this.checkoutForm.reset();\n  }\n}\n')),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"cr\xe9ez-le-formulaire-de-commande"},"Cr\xe9ez le formulaire de commande"),(0,a.kt)("p",null,"Suivez les \xe9tapes suivantes pour ajouter un formulaire de paiement au bas de la vue du panier."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Au bas de ",(0,a.kt)("inlineCode",{parentName:"p"},"cart.component.html"),", ajoutez un \xe9l\xe9ment HTML ",(0,a.kt)("inlineCode",{parentName:"p"},"<form>")," et un bouton ",(0,a.kt)("strong",{parentName:"p"},"Acheter"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Utilisez la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},"formGroup")," pour lier ",(0,a.kt)("inlineCode",{parentName:"p"},"checkoutForm")," \xe0 la balise HTML ",(0,a.kt)("inlineCode",{parentName:"p"},"<form>"),"."))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html",metastring:"title=src/app/cart/cart.component.html",title:"src/app/cart/cart.component.html"},'<form [formGroup]="checkoutForm">\n  <button class="button" type="submit">Purchase</button>\n</form>\n')),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Sur la balise ",(0,a.kt)("inlineCode",{parentName:"li"},"<form>"),", utilisez l'\xe9v\xe9nement ",(0,a.kt)("inlineCode",{parentName:"li"},"ngSubmit")," pour \xe9couter la soumission du formulaire et appelez la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"li"},"onSubmit()")," avec la valeur ",(0,a.kt)("inlineCode",{parentName:"li"},"checkoutForm")," .")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html",metastring:"title=src/app/cart/cart.component.html",title:"src/app/cart/cart.component.html"},'<form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()"></form>\n')),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Ajoutez des champs ",(0,a.kt)("inlineCode",{parentName:"li"},"<input>")," pour le ",(0,a.kt)("inlineCode",{parentName:"li"},"nom")," et l'",(0,a.kt)("inlineCode",{parentName:"li"},"adresse"),", chacun avec un attribut ",(0,a.kt)("inlineCode",{parentName:"li"},"formControlName")," qui permet la liaison avec les propri\xe9t\xe9s du aux formulaire ",(0,a.kt)("inlineCode",{parentName:"li"},"checkoutForm")," (d\xe9clar\xe9 dans le ",(0,a.kt)("inlineCode",{parentName:"li"},".ts"),").")),(0,a.kt)("p",null,"Le composant complet est le suivant :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html",metastring:"title=src/app/cart/cart.component.html",title:"src/app/cart/cart.component.html"},'<h3>Panier</h3>\n\n<p>\n  <a routerLink="/shipping">Prix d\'exp\xe9dition</a>\n</p>\n\n<div class="cart-item" *ngFor="let item of items">\n  <span>{{ item.name }} </span>\n  <span>{{ item.price | currency }}</span>\n</div>\n\n<form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()">\n  <div>\n    <label for="nameInput"> Nom </label>\n    <input id="nameInput" type="text" formControlName="name" />\n  </div>\n\n  <div>\n    <label for="addressInput"> Adresse </label>\n    <input id="addressInput" type="text" formControlName="address" />\n  </div>\n\n  <button class="button" type="submit">J\'ach\xe8te !</button>\n</form>\n')),(0,a.kt)("p",null,"Apr\xe8s avoir mis quelques articles dans le panier,les utilisateurs peuvent\npasser en revue leurs articles,saisir leur nom et leur adresse,et soumettre leur\nachat."),(0,a.kt)("div",{class:"container-img-50"},(0,a.kt)("img",{src:r(5956).Z,alt:"Vue du panier avec le formulaire d'achat"}),(0,a.kt)("figcaption",null,"Vue du panier avec le formulaire d'achat")),(0,a.kt)("p",null,"Pour confirmer la soumission,ouvrez la ",(0,a.kt)("inlineCode",{parentName:"p"},"console")," pour voir un objet contenant le nom et l'adresse que vous avez soumis."),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"cest-quoi-la-suite-"},"C'est quoi la suite ?"),(0,a.kt)("p",null,"Vous disposez d'une application compl\xe8te de boutique en ligne avec un catalogue de produits,un panier d'achat et une fonction de paiement.\nF\xe9licitations ! \ud83c\udf89 Vous avez pu suivre ce tutoriel en immitant et en d\xe9couvrant les possibilit\xe9s d'Angular.\nEvidemment vous ne maitrisez pas encore ce qu'il vient de se passer, mais vous avez une id\xe9e un peu plus clair de ce qu'il est possible de faire avec Angular."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"")))}c.isMDXComponent=!0},5956:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/checkout-cf1b518ad56c99df6687b73834801f97.png"}}]);